(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 8.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     15601,        472]
NotebookOptionsPosition[     14604,        430]
NotebookOutlinePosition[     14940,        445]
CellTagsIndexPosition[     14897,        442]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["MPI Check", "Title",
 CellChangeTimes->{{3.5255760659447823`*^9, 3.525576079209179*^9}}],

Cell[CellGroupData[{

Cell["prepare", "Section",
 CellChangeTimes->{{3.525576114049176*^9, 3.5255761223319263`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mpidir", "=", 
  "\"\</home/kamano/riccjob-examples/mpc/solve-centroid-multifile-test\>\""}]]\
, "Input",
 CellChangeTimes->{{3.525576092332016*^9, 3.525576101603005*^9}}],

Cell[BoxData["\<\"/home/kamano/riccjob-examples/mpc/solve-centroid-multifile-\
test\"\>"], "Output",
 CellChangeTimes->{3.525576103744383*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"SetDirectory", "[", "mpidir", "]"}]], "Input",
 CellChangeTimes->{{3.5255760821805477`*^9, 3.525576088273082*^9}, {
  3.525576125398069*^9, 3.5255761274051123`*^9}}],

Cell[BoxData["\<\"/home/kamano/riccjob-examples/mpc/solve-centroid-multifile-\
test\"\>"], "Output",
 CellChangeTimes->{3.525576128369358*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"targetfiles", "=", 
  RowBox[{"{", 
   RowBox[{
   "\"\<f.0\>\"", ",", "\"\<f.1\>\"", ",", "\"\<f.2\>\"", ",", 
    "\"\<f.3\>\""}], "}"}]}]], "Input",
 CellChangeTimes->{{3.525576136500292*^9, 3.525576168248714*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"f.0\"\>", ",", "\<\"f.1\"\>", ",", "\<\"f.2\"\>", 
   ",", "\<\"f.3\"\>"}], "}"}]], "Output",
 CellChangeTimes->{3.525576169262289*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"impt", "=", 
  RowBox[{"Table", "[", 
   RowBox[{
    RowBox[{"Import", "[", 
     RowBox[{
      RowBox[{"targetfiles", "[", 
       RowBox[{"[", "n", "]"}], "]"}], ",", "\"\<Table\>\""}], "]"}], ",", 
    RowBox[{"{", 
     RowBox[{"n", ",", "4"}], "}"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.525576203538409*^9, 3.525576228653225*^9}, {
  3.52557626106817*^9, 3.525576313181343*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"4", ",", "12"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"0A\"\>", ",", "1", ",", "9", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"0B\"\>", ",", "1", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"0C\"\>", ",", "1", ",", "0", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"0D\"\>", ",", "1", ",", "2", ",", "7", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "1", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"0H\"\>", ",", "1", ",", "2", ",", "12", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"0I\"\>", ",", "1", ",", "5", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"0J\"\>", ",", "1", ",", "9", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"0K\"\>", ",", "1", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"0L\"\>", ",", "1", ",", "0", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"0m\"\>", ",", "1", ",", "2", ",", "7", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"0n\"\>", ",", "1", ",", "2", ",", "3", ",", "4"}], "}"}]}],
     "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"4", ",", "15"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1A\"\>", ",", "1", ",", "9", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1B\"\>", ",", "1", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1C\"\>", ",", "1", ",", "0", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1D\"\>", ",", "1", ",", "2", ",", "7", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "9", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1H\"\>", ",", "1", ",", "2", ",", "12", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1I\"\>", ",", "1", ",", "5", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1J\"\>", ",", "1", ",", "9", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1K\"\>", ",", "1", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1L\"\>", ",", "1", ",", "0", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1m\"\>", ",", "1", ",", "2", ",", "7", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1n\"\>", ",", "1", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1O\"\>", ",", "1", ",", "34", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1P\"\>", ",", "7", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"1Q\"\>", ",", "2", ",", "2", ",", "3", ",", "4"}], "}"}]}],
     "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"4", ",", "17"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2A\"\>", ",", "1", ",", "9", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2B\"\>", ",", "1", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2C\"\>", ",", "1", ",", "0", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2D\"\>", ",", "1", ",", "2", ",", "7", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"2", ",", "9", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2H\"\>", ",", "1", ",", "2", ",", "12", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2I\"\>", ",", "1", ",", "5", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2J\"\>", ",", "1", ",", "9", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2K\"\>", ",", "1", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2L\"\>", ",", "1", ",", "0", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2m\"\>", ",", "1", ",", "2", ",", "7", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2n\"\>", ",", "1", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2O\"\>", ",", "1", ",", "34", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2P\"\>", ",", "7", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2Q\"\>", ",", "8", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2R\"\>", ",", "2", ",", "2", ",", "22", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"2s\"\>", ",", "2", ",", "54", ",", "3", ",", "4"}], 
      "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"4", ",", "10"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"3B\"\>", ",", "1", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"3C\"\>", ",", "1", ",", "0", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"3D\"\>", ",", "1", ",", "2", ",", "7", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"3", ",", "9", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"3I\"\>", ",", "1", ",", "5", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"3m\"\>", ",", "1", ",", "2", ",", "7", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"3O\"\>", ",", "1", ",", "34", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"3P\"\>", ",", "7", ",", "2", ",", "3", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"3R\"\>", ",", "2", ",", "2", ",", "22", ",", "4"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"3s\"\>", ",", "2", ",", "54", ",", "3", ",", "4"}], 
      "}"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.525576229770192*^9, 3.525576263194057*^9, {3.5255763064855213`*^9, 
   3.525576314004816*^9}, 3.5255765688529663`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"imptDD", "=", 
  RowBox[{"Map", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Drop", "[", 
      RowBox[{"#", ",", "1"}], "]"}], "&"}], ",", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Drop", "[", 
        RowBox[{"#", ",", "1"}], "]"}], "&"}], ",", "impt"}], "]"}], ",", 
    RowBox[{"{", "2", "}"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.525576585030489*^9, 3.525576651786119*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"1", ",", "9", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "0", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "7", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "12", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "5", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "9", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "0", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "7", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"1", ",", "9", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "0", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "7", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"9", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "12", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "5", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "9", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "0", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "7", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "34", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"7", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2", ",", "2", ",", "3", ",", "4"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"1", ",", "9", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "0", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "7", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"9", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "12", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "5", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "9", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "0", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "7", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "34", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"7", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"8", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2", ",", "2", ",", "22", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2", ",", "54", ",", "3", ",", "4"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "0", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "7", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"9", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "5", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "7", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "34", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"7", ",", "2", ",", "3", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2", ",", "2", ",", "22", ",", "4"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2", ",", "54", ",", "3", ",", "4"}], "}"}]}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{
  3.525576599492488*^9, {3.5255766337072477`*^9, 3.525576652343635*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Flatten", "[", 
    RowBox[{"imptDD", ",", "1"}], "]"}], "//", "Mean"}], "//", "N"}]], "Input",\

 CellChangeTimes->{{3.5255766545334473`*^9, 3.525576681379957*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "2.`", ",", "6.444444444444445`", ",", "4.796296296296297`", ",", "4.`"}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.525576670232527*^9, 3.525576681890182*^9}}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{740, 867},
WindowMargins->{{Automatic, 98}, {Automatic, 61}},
FrontEndVersion->"8.0 for Linux x86 (64-bit) (December 2, 2010)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 94, 1, 83, "Title"],
Cell[CellGroupData[{
Cell[698, 27, 94, 1, 72, "Section"],
Cell[CellGroupData[{
Cell[817, 32, 195, 4, 43, "Input"],
Cell[1015, 38, 142, 2, 43, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1194, 45, 189, 3, 43, "Input"],
Cell[1386, 50, 142, 2, 43, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1565, 57, 241, 6, 43, "Input"],
Cell[1809, 65, 179, 4, 43, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2025, 74, 416, 11, 43, "Input"],
Cell[2444, 87, 6390, 179, 310, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8871, 271, 438, 13, 43, "Input"],
Cell[9312, 286, 4797, 121, 253, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[14146, 412, 212, 6, 43, "Input"],
Cell[14361, 420, 203, 5, 43, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
